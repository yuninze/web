<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="./style.css">
	<title>Init</title>
</head>

<body>
	<div>
		<h2>무언가 입력</h2>
		<input type="text" id="foremostInput" name="foremostInput">
		<button onclick="sendSomething(foremostInput)">Send</button>
	</div>

	  <div>
	  <canvas id="Gilga"></canvas>
	  <canvas id="Hyunguan"></canvas>
	  </div>
	  
	  <div>
	  <canvas id="Gastong"></canvas>
	  <canvas id="Duitchok"></canvas>
	  </div>
	  
	  <div>
		<h2>This is to showing streams다. 백앤드에서 10분마다 streams을 다시 연다. 글꼴은 Pretendard다.</h2>
	  </div>
</body>

<script type="text/javascript" src="./jsmpeg.min.js"></script>
<script type="text/javascript">
	const a=new JSMpeg.Player(
		'ws://172.30.1.18:92',
		{canvas: document.getElementById("Gilga")}
	)
	const b=new JSMpeg.Player(
		'ws://172.30.1.18:91',
		{canvas: document.getElementById("Hyunguan")}
	)
	const c=new JSMpeg.Player(
		'ws://172.30.1.18:90',
		{canvas: document.getElementById("Gastong")}
	)
	const d=new JSMpeg.Player(
		'ws://172.30.1.18:93',
		{canvas: document.getElementById("Duitchok")}
	)
	
	const sendSomething=(inputElementName)=>{
		const somethingInInputElement=document.getElementById(inputElementName).value
		fetch("/sending",
			{
				method:"POST",
				headers:{"Content-Type":"application/json"},
				body:JSON.stringify({somethingInInputElement})
			}
		).then(
			(res)=>res.json()
		).then(
			(data)=>{
				console.log(data)
			}
		).catch(
			(error)=>{
				console.error(error)
			}
		)
	}
</script>

</html>
